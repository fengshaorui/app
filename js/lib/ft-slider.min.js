!function(){function t(t){this.init(t),this.restore=this.reset}var e={width:280,height:34,textMsg:"请按住滑块，拖动到最右边",successMsg:"验证成功",callback:function(t){}};t.prototype={init:function(t){this.opts=this.extend(e,t),this.render()},render:function(){this.ele=document.getElementById(this.opts.id);var t='<div class="ft-slider-content lock">'+this.opts.textMsg+'</div><div class="ft-slider-bar" style="transform:translate3d(0,0,0);"></div><div class="ft-slider-bg"></div>',e=document.createElement("div");e.className="ft-slider",e.innerHTML=t,this.ele.appendChild(e),this.setOptions(),this.drag()},setOptions:function(){var t=this.ele.getElementsByClassName("ft-slider")[0],e=t.getElementsByClassName("ft-slider-bar")[0],s=this.opts,i=s.width,n=s.height;t.style.width=i+"px",t.style.height=n+"px",t.style.lineHeight=n+"px",e.style.width=n+"px",e.style.height=n+"px"},reset:function(){var t=this.opts,e=this.ele.getElementsByClassName("ft-slider")[0],s=e.getElementsByClassName("ft-slider-bar")[0],i=e.getElementsByClassName("ft-slider-content")[0],n=e.getElementsByClassName("ft-slider-bg")[0];i.className="ft-slider-content lock",s.style.transform="translate3d(0,0,0)",n.style.width=0,s.className="ft-slider-bar transition",i.textContent=t.textMsg},drag:function(){var t=this.ele.getElementsByClassName("ft-slider-bar")[0];this.isDrag=!1,this.start(t),this.move(t),this.end(t)},start:function(t){var e=this,s=this.ele.getElementsByClassName("ft-slider-bg")[0];t.addEventListener("touchstart",function(t){this.className="ft-slider-bar",s.className="ft-slider-bg",e.isDrag=!0,e.strartX=t.touches[0].clientX,t.preventDefault()},!1)},move:function(t){if(!this.isDrag){var i=this,n=this.ele.getElementsByClassName("ft-slider-bg")[0];t.addEventListener("touchmove",function(t){var e=t.touches[0].clientX-i.strartX,s=i.opts.width-i.opts.height;e=s<e?s:e,this.style.transform="translate3d("+e+"px,0,0)",n.style.width=e+"px",t.preventDefault()},!1)}},end:function(t){if(!this.isDrag){var r=this,d=this.ele.getElementsByClassName("ft-slider-bg")[0],h=this.ele.getElementsByClassName("ft-slider-content")[0];d=this.ele.getElementsByClassName("ft-slider-bg")[0];t.addEventListener("touchend",function(t){var e=r.opts,s=e.callback,i=t.changedTouches[0].clientX-r.strartX,n=e.width-e.height,a=0,l=!1;n<=i&&(a=n,h.textContent=e.successMsg,this.className=this.className+=" success",h.className="ft-slider-content success",l=!0),this.className=l?"ft-slider-bar success transition":"ft-slider-bar transition",d.className="ft-slider-bg transition",d.style.width=a+"px",this.style.transform="translate3d("+a+"px,0,0)",s&&s(l),t.preventDefault()},!1)}},extend:function(t,e){var s={};if(!e.id)throw"id is required";for(var i=0;i<arguments.length;i++)for(option in arguments[i])s[option]=arguments[i][option];return s},getTranslateX:function(t){return parseInt(t.match(/-?\d+(?=px)/g)[0])}},window.FtSlider=t}();