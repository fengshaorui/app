!function(u){var l,c,p,s,g,T={};function h(){s=null,T.last&&(T.el.trigger("longTap"),T={})}function w(){s&&clearTimeout(s),s=null}function f(){l&&clearTimeout(l),c&&clearTimeout(c),p&&clearTimeout(p),s&&clearTimeout(s),l=c=p=s=null,T={}}function y(e){return("touch"==e.pointerType||e.pointerType==e.MSPOINTER_TYPE_TOUCH)&&e.isPrimary}function d(e,t){return e.type=="pointer"+t||e.type.toLowerCase()=="mspointer"+t}u(document).ready(function(){var t,n,o,i,r=0,a=0;"MSGesture"in window&&((g=new MSGesture).target=document.body),u(document).bind("MSGestureEnd",function(e){var t=1<e.velocityX?"Right":e.velocityX<-1?"Left":1<e.velocityY?"Down":e.velocityY<-1?"Up":null;t&&(T.el.trigger("swipe"),T.el.trigger("swipe"+t))}).on("touchstart MSPointerDown pointerdown",function(e){(i=d(e,"down"))&&!y(e)||(o=i?e:e.touches[0],e.touches&&1===e.touches.length&&T.x2&&(T.x2=void 0,T.y2=void 0),t=Date.now(),n=t-(T.last||t),T.el=u("tagName"in o.target?o.target:o.target.parentNode),l&&clearTimeout(l),T.x1=o.pageX,T.y1=o.pageY,0<n&&n<=250&&(T.isDoubleTap=!0),T.last=t,s=setTimeout(h,750),g&&i&&g.addPointer(e.pointerId))}).on("touchmove MSPointerMove pointermove",function(e){(i=d(e,"move"))&&!y(e)||(o=i?e:e.touches[0],w(),T.x2=o.pageX,T.y2=o.pageY,r+=Math.abs(T.x1-T.x2),a+=Math.abs(T.y1-T.y2))}).on("touchend MSPointerUp pointerup",function(e){(i=d(e,"up"))&&!y(e)||(w(),T.x2&&30<Math.abs(T.x1-T.x2)||T.y2&&30<Math.abs(T.y1-T.y2)?p=setTimeout(function(){var e,t,n,o;T.el&&(T.el.trigger("swipe"),T.el.trigger("swipe"+(e=T.x1,t=T.x2,n=T.y1,o=T.y2,Math.abs(e-t)>=Math.abs(n-o)?0<e-t?"Left":"Right":0<n-o?"Up":"Down"))),T={}},0):"last"in T&&(r<30&&a<30?c=setTimeout(function(){var e=u.Event("tap");e.cancelTouch=f,T.el&&T.el.trigger(e),T.isDoubleTap?(T.el&&T.el.trigger("doubleTap"),T={}):l=setTimeout(function(){l=null,T.el&&T.el.trigger("singleTap"),T={}},250)},0):T={}),r=a=0)}).on("touchcancel MSPointerCancel pointercancel",f),u(window).on("scroll",f)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(t){u.fn[t]=function(e){return this.on(t,e)}})}(Zepto);