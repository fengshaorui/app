var loginJs=function(){var u=!0;function p(t,n){t.html(n),t.animate({width:"6.5rem",height:"1.5rem",opacity:1},300,function(){setTimeout(function(){t.animate({width:0,height:0,opacity:0},500)},2e3)})}return function(){var t,n,e=document.cookie;if(e){for(var i=e.split("; "),o=0;o<i.length;o++){var a=i[o].split("=");"user"===a[0]?t=a[1]:"pwd"===a[0]&&(n=a[1])}$("input[name=username]").val(t),$("input[name=pass]").val(n)}}(),{checkLogin:function(){$("button[type=button]").click(function(){var e,i,o,t=$("input[name=username]").val(),n=$("input[name=pass]").val(),a=$(".login-msg-tip");t?/^((\w)|([\u4e00-\u9fa5])){2,12}$/i.test(t)?n?/^\w{6,12}$/gi.test(n)?u&&(u=!1,e=a,i=t,o=n,$("button[type=button]").html("登录中..."),$.post("./api/checkLogin.php",{name:i,pwd:o},function(t){1==t.tag?(p(e,"抱歉！用户名不存在"),$("input[name=username]")[0].focus()):2==t.tag&&(p(e,"密码输入错误"),$("input[name=pass]")[0].focus()),$("button[type=button]").html("登录"),u=!0;var n=new Date;n.setDate(n.getDate()+7),document.cookie="user="+i+";path=/;expires="+n.toGMTString(),document.cookie="pwd="+o+";path=/;expires="+n.toGMTString(),location.href="./index.html"},"json")):p(a,"密码必须是6~12位的字母数字组合"):p(a,"请输入您的密码"):p(a,"用户名必须是2~12位的字母数字组合或汉字"):p(a,"请输入您的邮箱/会员账号/手机号")})}}}();loginJs.checkLogin();