var searchObj=function(){function i(t){t?($(".hot-search").show(),$(".tip-items-box").hide()):($(".hot-search").hide(),$(".tip-items-box").show())}return{init:function(){var t,e;FastClick.attach(document.body),$("header .sub").on("click",function(){var t=$("input");t.val()||t.val("手机麦克风"),$("form").submit()}),function(){for(var t={count:6,list:[{id:15,url:"",name:"手机麦克风",orderSort:1},{id:16,url:"",name:"K歌声卡",orderSort:2},{id:17,url:"",name:"录音声卡",orderSort:3},{id:18,url:"",name:"吉他",orderSort:4},{id:19,url:"",name:"电容麦",orderSort:5},{id:35,url:"",name:"创新声卡",orderSort:6}]},e="",a=0;a<t.count;a++){var r=t.list[a];e+='<a href="https://m.ingping.com/search?kw='+r.name+'">'+r.name+"</a>"}$(".hot-items").html(e)}(),t=JSON.parse(localStorage.getItem("list")),e="",t&&(t.forEach(function(t){e+='<a href="https://m.ingping.com/search?kw='+t+'">'+t+"</a>"}),$(".hist-items").html(e))},delSearchHistory:function(){FastClick.attach(document.body),$(".del-btn").on("click",function(){var t=confirm("确定删除历史记录吗");console.log(t),t&&(localStorage.removeItem("list"),$(".hist-items").html(""))})},handleSearch:function(){var r=!0;$("input").on("keyup",function(){r&&(r=!1,$.ajax({url:"https://www.ingping.com/search/solrCheck?format=json",type:"get",data:{term:$(this).val()},dataType:"jsonp",success:function(t){if(0<t.length){for(var e="",a=0;a<t.length;a++)e+='<li><a href="javascript:void(0);">'+t[a]+"</a></li>";$(".tip-items-box").html(e),i(!1)}else i(!0);r=!0}}))})},handleSearchItemsClick:function(){FastClick.attach(document.body),$(".tip-items-box").on("click","a",function(){var e=$(this).html().trim();$("input").val(e);var t=JSON.parse(localStorage.getItem("list")?localStorage.getItem("list"):"[]"),a=!0;t.forEach(function(t){t===e&&(a=!1)}),a&&t.length<=5&&(t.push(e),localStorage.setItem("list",JSON.stringify(t))),$("form")[0].submit()})}}}();searchObj.init(),searchObj.delSearchHistory(),searchObj.handleSearch(),searchObj.handleSearchItemsClick();